(this.webpackJsonpclients=this.webpackJsonpclients||[]).push([[0],{51:function(e,t,n){},52:function(e,t,n){},70:function(e,t,n){},71:function(e,t,n){},76:function(e,t,n){},78:function(e,t,n){},79:function(e,t,n){},81:function(e,t,n){},82:function(e,t,n){},85:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n(1),r=n.n(a),s=n(16),j=n.n(s),i=(n(51),n(52),n(6)),l=n(4),o=n(3),b=n(9),d=n(17),h=n.n(d),u=(n(70),n(71),function(){return Object(c.jsxs)("header",{className:"header",children:[Object(c.jsx)("h1",{children:"PAYMENTS"}),Object(c.jsxs)("ul",{children:[Object(c.jsx)("li",{children:Object(c.jsx)(i.b,{to:"/record",children:"Record"})}),Object(c.jsx)("li",{children:Object(c.jsx)(i.b,{to:"/payment",children:"Add Payment"})})]})]})}),m=n(26),O=n.n(m),p=n(37),x=function(e){var t=Object(a.useState)([]),n=Object(b.a)(t,2),c=n[0],r=n[1],s=Object(a.useState)(null),j=Object(b.a)(s,2),i=j[0],l=j[1],o=Object(a.useState)(!0),d=Object(b.a)(o,2),h=d[0],u=d[1];return Object(a.useEffect)((function(){var t=new AbortController;return function(){var n=Object(p.a)(O.a.mark((function n(){var c,a;return O.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,fetch(e,{signal:t.signal});case 3:if((c=n.sent).ok){n.next=6;break}throw Error("Unable to get data!!!");case 6:return n.next=8,c.json();case 8:a=n.sent,r(a),u(!1),l(null),n.next=22;break;case 14:if(n.prev=14,n.t0=n.catch(0),"AbortError"!==n.t0.name){n.next=20;break}return n.abrupt("return");case 20:l(n.t0.message),u(!1);case 22:case"end":return n.stop()}}),n,null,[[0,14]])})));return function(){return n.apply(this,arguments)}}()(),function(){return t.abort()}}),[e]),{data:c,error:i,isPending:h,setData:r}},f=function(){var e=Object(a.useState)(!1),t=Object(b.a)(e,1)[0],n=Object(l.f)(),r=Object(l.g)().id,s=x("https://church-payment.herokuapp.com/payments"+r).data,j=Object(a.useState)({memberName:"",telephone:"",paymentType:"",amount:"",narration:"",date:""}),i=Object(b.a)(j,2),d=i[0],m=i[1],O=function(){m({memberName:"",telephone:"",paymentType:"",amount:0,narration:"",date:""})};return Object(c.jsxs)("div",{className:"form-center",children:[Object(c.jsx)(u,{}),!t&&Object(c.jsx)("div",{className:"form-container container",children:Object(c.jsxs)("form",{onSubmit:function(e){e.preventDefault(),h.a.patch("http://localhost:5500/payments",Object(o.a)({},d)).then((function(e){console.log(e)})),O(),n.push("/record")},children:[Object(c.jsx)("div",{className:"form-element",children:Object(c.jsxs)("label",{children:["Member Name",Object(c.jsx)("input",{type:"text",value:s.memberName,required:!0,onChange:function(e){return m(Object(o.a)(Object(o.a)({},d),{},{memberName:e.target.value}))},placeholder:"Enter your name..."})]})}),Object(c.jsx)("div",{className:"form-element",children:Object(c.jsxs)("label",{children:["Contact Number",Object(c.jsx)("input",{type:"tel",value:s.telephone,required:!0,onChange:function(e){return m(Object(o.a)(Object(o.a)({},d),{},{telephone:e.target.value}))},placeholder:"Enter your phone number..."})]})}),Object(c.jsx)("div",{className:"form-element",children:Object(c.jsxs)("label",{children:["Payment Type",Object(c.jsxs)("select",{value:s.paymentType,required:!0,onChange:function(e){return m(Object(o.a)(Object(o.a)({},d),{},{paymentType:e.target.value}))},children:[Object(c.jsx)("option",{value:"Default",children:"Choose a type of payment"}),Object(c.jsx)("option",{value:"Offering",children:"Offering"}),Object(c.jsx)("option",{value:"Tithes",children:"Tithes"}),Object(c.jsx)("option",{value:"Contribution",children:"Contribution"}),Object(c.jsx)("option",{value:"Others",children:"Others"})]})]})}),Object(c.jsx)("div",{className:"form-element",children:Object(c.jsxs)("label",{children:["Amount",Object(c.jsx)("input",{type:"number",required:!0,value:s.amount,onChange:function(e){return m(Object(o.a)(Object(o.a)({},d),{},{amount:e.target.value}))},placeholder:"Enter your amount..."})]})}),Object(c.jsx)("div",{className:"form-element",children:Object(c.jsxs)("label",{children:["Narration",Object(c.jsx)("textarea",{className:"form-narration",value:s.narration,onChange:function(e){return m(Object(o.a)(Object(o.a)({},d),{},{narration:e.target.value}))},placeholder:"Describe your payment..."})]})}),Object(c.jsx)("div",{className:"form-element",children:Object(c.jsxs)("label",{children:["Date",Object(c.jsx)("input",{type:"Date",value:s.date,onChange:function(e){return m(Object(o.a)(Object(o.a)({},d),{},{date:e.target.value}))}})]})}),Object(c.jsxs)("div",{className:"form-buttons",children:[Object(c.jsx)("button",{onClick:O,className:"btn btn-cancel",children:"Clear"}),Object(c.jsx)("button",{type:"submit",className:"btn btn-save",children:"Save"})]})]})})]})},v=(n(76),function(){var e=Object(a.useState)(!1),t=Object(b.a)(e,1)[0],n=Object(l.f)(),r=Object(a.useState)({memberName:"",telephone:"",paymentType:"",amount:0,narration:"",date:""}),s=Object(b.a)(r,2),j=s[0],i=s[1],d=function(){i({memberName:"",telephone:"",paymentType:"",amount:0,narration:"",date:""})};return Object(c.jsxs)("div",{className:"form-center",children:[Object(c.jsx)(u,{}),!t&&Object(c.jsx)("div",{className:"form-container container",children:Object(c.jsxs)("form",{onSubmit:function(e){e.preventDefault(),h.a.post("https://church-payment.herokuapp.com/payments",Object(o.a)({},j)).then((function(e){console.log(e)})),d(),n.push("/record")},children:[Object(c.jsx)("div",{className:"form-element",children:Object(c.jsxs)("label",{children:["Member Name",Object(c.jsx)("input",{type:"text",value:j.memberName,required:!0,onChange:function(e){return i(Object(o.a)(Object(o.a)({},j),{},{memberName:e.target.value}))},placeholder:"Enter your name..."})]})}),Object(c.jsx)("div",{className:"form-element",children:Object(c.jsxs)("label",{children:["Contact Number",Object(c.jsx)("input",{type:"tel",value:j.telephone,required:!0,onChange:function(e){return i(Object(o.a)(Object(o.a)({},j),{},{telephone:e.target.value}))},placeholder:"Enter your phone number..."})]})}),Object(c.jsx)("div",{className:"form-element",children:Object(c.jsxs)("label",{children:["Payment Type",Object(c.jsxs)("select",{value:j.paymentType,required:!0,onChange:function(e){return i(Object(o.a)(Object(o.a)({},j),{},{paymentType:e.target.value}))},children:[Object(c.jsx)("option",{value:"Default",children:"Choose a type of payment"}),Object(c.jsx)("option",{value:"Offering",children:"Offering"}),Object(c.jsx)("option",{value:"Tithes",children:"Tithes"}),Object(c.jsx)("option",{value:"Contribution",children:"Contribution"}),Object(c.jsx)("option",{value:"Others",children:"Others"})]})]})}),Object(c.jsx)("div",{className:"form-element",children:Object(c.jsxs)("label",{children:["Amount",Object(c.jsx)("input",{type:"number",required:!0,value:j.amount,onChange:function(e){return i(Object(o.a)(Object(o.a)({},j),{},{amount:e.target.value}))},placeholder:"Enter your amount..."})]})}),Object(c.jsx)("div",{className:"form-element",children:Object(c.jsxs)("label",{children:["Narration",Object(c.jsx)("textarea",{className:"form-narration",value:j.narration,onChange:function(e){return i(Object(o.a)(Object(o.a)({},j),{},{narration:e.target.value}))},placeholder:"Describe your payment..."})]})}),Object(c.jsx)("div",{className:"form-element",children:Object(c.jsxs)("label",{children:["Date",Object(c.jsx)("input",{type:"Date",value:j.date,onChange:function(e){return i(Object(o.a)(Object(o.a)({},j),{},{date:e.target.value}))}})]})}),Object(c.jsxs)("div",{className:"form-buttons",children:[Object(c.jsx)("button",{onClick:d,className:"btn btn-cancel",children:"Clear"}),Object(c.jsx)("button",{type:"submit",className:"btn btn-save",children:"Save"})]})]})})]})}),y=n(38),N=n.n(y),g=(n(78),n.p+"static/media/logo.2648338d.png"),C=function(){var e=Object(l.g)().id,t=x("https://church-payment.herokuapp.com/payments"+e).data,n=r.a.useState(!0),a=Object(b.a)(n,2),s=a[0],j=a[1];return t&&Object(c.jsxs)("div",{className:"preview",children:[Object(c.jsxs)("div",{className:"title",children:[Object(c.jsx)("img",{src:g,alt:"Church Logo"}),Object(c.jsx)("p",{children:(new Date).toLocaleDateString()})]}),Object(c.jsxs)("div",{className:"user-info",children:[Object(c.jsx)("h3",{children:t.memberName}),Object(c.jsxs)("p",{children:["0",t.telephone]})]}),Object(c.jsx)("div",{className:"content",children:Object(c.jsxs)("table",{className:"preview-table",children:[Object(c.jsx)("thead",{children:Object(c.jsxs)("tr",{children:[Object(c.jsx)("th",{children:"Amount"}),Object(c.jsx)("th",{children:"Payment Type"}),Object(c.jsx)("th",{children:"Date"})]})}),Object(c.jsx)("tbody",{children:Object(c.jsxs)("tr",{children:[Object(c.jsxs)("td",{children:["GHS ",t.amount]}),Object(c.jsx)("td",{children:t.paymentType}),Object(c.jsx)("td",{children:N()(t.date).utc().format("MM/DD/YYYY")})]})})]})}),Object(c.jsxs)("div",{className:"narration-info",children:[Object(c.jsx)("h4",{children:"Narration"}),Object(c.jsx)("p",{children:t.narration})]}),Object(c.jsx)("div",{className:"thanks",children:Object(c.jsx)("h2",{children:"Thanks"})}),Object(c.jsx)("div",{className:"print-btn",children:s&&Object(c.jsx)("button",{className:"print-save-btn",onClick:function(){j(!1),setTimeout((function(){window.print()}),100)},children:"Save/Print"})})]})},T=n(100),D=(n(79),n(39)),k=n.n(D),E=n(41),S=n.n(E),w=n(40),A=n.n(w),P=n(23),M=(n(80),function(e){var t=new P.default,n=[];e.forEach((function(e){e.date=Object(T.a)(new Date(e.date),"dd-MM-yyyy");var t=[e.memberName,e.amount,e.paymentType,e.date,e.systemInfo.hostName];n.push(t)})),t.autoTable(["NAME","AMOUNT","PAYMENT TYPE","DATE","HOSTNAME"],n,{startY:20});var c=Date().split(" "),a=c[0]+c[1]+c[2]+c[3]+c[4];t.text("Payments Report",14,15),t.autoPrint({variant:"non-conform"}),t.save("report_".concat(a,".pdf"))}),q=(n(81),function(){var e=x("https://church-payment.herokuapp.com/payments").data;return Object(c.jsxs)("div",{className:"search-bar",children:[Object(c.jsx)(i.b,{to:"/payment",children:"Add Payment Record"}),Object(c.jsx)("button",{onClick:function(){return M(e)},children:"Print Records"}),Object(c.jsx)("input",{type:"search",placeholder:"Search"})]})}),Y=(n(82),function(){return Object(c.jsxs)("div",{className:"progress",children:[Object(c.jsx)("div",{className:"bouncingLoader",children:Object(c.jsx)("div",{})}),Object(c.jsx)(i.b,{to:"/payment",children:Object(c.jsx)("div",{className:"slideUpBtn",children:Object(c.jsx)("span",{children:"Add Payment"})})})]})}),_=function(){var e=x("https://church-payment.herokuapp.com/payments"),t=e.data,n=e.setData;return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(u,{}),t.length?Object(c.jsxs)("div",{children:[Object(c.jsx)(q,{}),Object(c.jsxs)("table",{className:"records",children:[Object(c.jsx)("thead",{children:Object(c.jsxs)("tr",{children:[Object(c.jsx)("th",{children:"name"}),Object(c.jsx)("th",{children:"Amount"}),Object(c.jsx)("th",{children:"Contact"}),Object(c.jsx)("th",{children:"Payment Type"}),Object(c.jsx)("th",{children:"Date"}),Object(c.jsx)("th",{children:"Narration"}),Object(c.jsx)("th",{}),Object(c.jsx)("th",{}),Object(c.jsx)("th",{})]})}),Object(c.jsx)("tbody",{children:t.map((function(e){return Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{children:e.memberName}),Object(c.jsxs)("td",{children:["GHS ",e.amount]}),Object(c.jsxs)("td",{children:["0",e.telephone]}),Object(c.jsx)("td",{children:e.paymentType}),Object(c.jsx)("td",{children:Object(T.a)(new Date(e.date),"dd-MM-yyyy")}),Object(c.jsx)("td",{children:(a=e.narration,a.length<=30?a:a.slice(0,30)+"...")}),Object(c.jsx)("td",{className:"icon icon-visible",children:Object(c.jsx)(i.b,{className:"remove-style",to:"/record/".concat(e._id),children:Object(c.jsx)(k.a,{className:"icons"})})}),Object(c.jsx)("td",{className:"icon icon-edit",children:Object(c.jsx)(i.b,{className:"edit-remove",to:"/edit/".concat(e._id),children:Object(c.jsx)(A.a,{className:"icons"})})}),Object(c.jsx)("td",{className:"icon icon-delete",children:Object(c.jsx)(S.a,{className:"icons",onClick:function(){return function(e){window.alert("Do you want to delete?");var c=t.filter((function(t){return t._id!==e}));fetch("https://church-payment.herokuapp.com/payments"+e,{method:"DELETE",header:{Accept:"application/json","Content-Type":"application/json"}}),n(c)}(e._id)}})})]},e._id);var a}))})]})]}):Object(c.jsx)(Y,{})]})},L=function(){return Object(c.jsx)(i.a,{children:Object(c.jsx)("div",{children:Object(c.jsxs)(l.c,{children:[Object(c.jsx)(l.a,{exact:!0,path:"/",children:Object(c.jsx)(_,{})}),Object(c.jsx)(l.a,{path:"/payment",children:Object(c.jsx)(v,{})}),Object(c.jsx)(l.a,{exact:!0,path:"/record",children:Object(c.jsx)(_,{})}),Object(c.jsx)(l.a,{path:"/record/:id",children:Object(c.jsx)(C,{})}),Object(c.jsx)(l.a,{path:"/edit/:id",children:Object(c.jsx)(f,{})})]})})})},R=function(){return Object(c.jsx)(L,{})};j.a.render(Object(c.jsx)(r.a.StrictMode,{children:Object(c.jsx)(R,{})}),document.getElementById("root"))}},[[85,1,3]]]);
//# sourceMappingURL=main.79877d9a.chunk.js.map